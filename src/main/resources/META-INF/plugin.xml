<idea-plugin>
    <id>fish.crafting.FIMPlugin</id>

    <name>Fish's Integrated Minecraft</name>

    <vendor url="https://youtube.crafting.fish">ACraftingFish</vendor>

    <description><![CDATA[
        <h1>Fish's Integrated Minecraft</h1>

        <p>Fish's Integrated Minecraft (FIM for short) is a <b>Minecraft-to-IntelliJ</b> integration that aims to eliminate tedious tasks when coding.</p>

        <h2>Installation</h2>

        <p>To use certain features of FIM, you must also download our Minecraft Mod. Below, you can read which features require the mod and which do not.</p>
        <p>FIM runs on <a href="https://fabricmc.net/">Fabric</a>, and is built to support <b>latest</b> versions of Minecraft only.</p>
        <p>Download the Fabric Mod from our repository's releases or from <a href="https://modrinth.com/mod/fish-integrated-minecraft">Modrinth</a>. </p>

        <h3>No Mod required features</h3>
        <ul>
            <li>Automatic Minecraft Text Formatting</li>
                    <ul>
            <li>Allows you to select methods/classes in <b>Java</b> & <b>Kotlin</b>, to show Formatted Minecraft text</li>
            <li>Automatically shows formatted text in <b>JSON</b> & <b>YAML</b></li>
            <li>Works with <b>MiniMessage (&#60;red>)</b> & <b>Legacy (&amp;c)</b> formatting</li>
        </ul>
        </ul>

        <h3>Mod-enabled features</h3>
        <ul>
            <li>Fast Vector/Location/BoundingBox accessing & editing</li>
            <li>Shortcut for quick swapping between IntelliJ & Minecraft</li>
        </ul>

        <h2>Bugs & Suggestions</h2>

        <p>To report bugs or give suggestions, join us at our <a href="https://discord.crafting.fish">Discord Server</a>!</p>
]]>
    </description>

    <change-notes><![CDATA[
      <h2>New Features</h2>
      <ul>
        <li>Added Minecraft Text Formatting</li>
        <ul>
            <li>Allows you to select methods/classes in <b>Java</b> & <b>Kotlin</b>, to show Formatted Minecraft text</li>
            <li>Automatically shows formatted text in <b>JSON</b> & <b>YAML</b></li>
            <li>Works with <b>MiniMessage (&#60;red>)</b> & <b>Legacy (&amp;c)</b> formatting</li>
        </ul>

        <br>
        <li>Added support for editing <b>BoundingBox</b>es</li>
      </ul>
      <h2>Changes & Bugfixes</h2>
      <ul>
        <li>Editable values <i>(Vector, Location, BoundingBox)</i> no longer show an icon if Minecraft isn't connected</li>
        <li>Added Rotate Location as a valid Location action</li>
        <li>Improved performance regarding line gutters</li>
      </ul>
    ]]>
    </change-notes>

    <depends>com.intellij.modules.platform</depends>
    <depends>com.intellij.java</depends>
    <depends>org.jetbrains.kotlin</depends>
    <depends>org.jetbrains.plugins.yaml</depends>

    <extensions defaultExtensionNs="com.intellij">
        <codeInsight.lineMarkerProvider language="JAVA"
                                        implementationClass="fish.crafting.fimplugin.plugin.marker.VectorLineMarkerProvider"/>
        <codeInsight.lineMarkerProvider language="kotlin"
                                        implementationClass="fish.crafting.fimplugin.plugin.marker.VectorLineMarkerProvider"/>

        <codeInsight.lineMarkerProvider language="JAVA"
                                        implementationClass="fish.crafting.fimplugin.plugin.marker.LocationLineMarkerProvider"/>
        <codeInsight.lineMarkerProvider language="kotlin"
                                        implementationClass="fish.crafting.fimplugin.plugin.marker.LocationLineMarkerProvider"/>

        <codeInsight.lineMarkerProvider language="JAVA"
                                        implementationClass="fish.crafting.fimplugin.plugin.marker.BoundingBoxLineMarkerProvider"/>
        <codeInsight.lineMarkerProvider language="kotlin"
                                        implementationClass="fish.crafting.fimplugin.plugin.marker.BoundingBoxLineMarkerProvider"/>


        <postStartupActivity implementation = "fish.crafting.fimplugin.plugin.listener.ProjectOpenListener"/>
        <editorFactoryListener implementation = "fish.crafting.fimplugin.plugin.minimessage.MiniMessageEditorListener"/>
    </extensions>

    <applicationListeners>
        <listener class="fish.crafting.fimplugin.plugin.listener.LifecycleListener" topic="com.intellij.ide.AppLifecycleListener" activeInHeadlessMode="false" />

    </applicationListeners>

    <extensions defaultExtensionNs="org.jetbrains.kotlin">
        <supportsKotlinPluginMode supportsK2="true" />
    </extensions>

    <actions>
        <group id="fim.vector_group" class="fish.crafting.fimplugin.plugin.group.VectorActionGroup" text="Vector Actions"/>
        <group id="fim.location_group" class="fish.crafting.fimplugin.plugin.group.LocationActionGroup" text="Location Actions"/>
        <group id="fim.boundingbox_group" class="fish.crafting.fimplugin.plugin.group.BoundingBoxActionGroup" text="BoundingBox Actions"/>

        <action id="fim.tp_vec" class="fish.crafting.fimplugin.plugin.action.vector.VectorTeleportAction"
                text="Teleport to Vector">
            <add-to-group group-id="fim.vector_group" anchor="first"/>
        </action>

        <action id="fim.move_vec" class="fish.crafting.fimplugin.plugin.action.vector.VectorMoveAction"
                text="Move Vector">
            <add-to-group group-id="fim.vector_group" anchor="first"/>
        </action>

        <action id="fim.tp_loc" class="fish.crafting.fimplugin.plugin.action.location.LocationTeleportAction"
                text="Teleport to Location">
            <add-to-group group-id="fim.location_group" anchor="first"/>
        </action>

        <action id="fim.move_loc" class="fish.crafting.fimplugin.plugin.action.location.LocationMoveAction"
                text="Move Location">
            <add-to-group group-id="fim.location_group" anchor="first"/>
        </action>

        <action id="fim.rot_loc" class="fish.crafting.fimplugin.plugin.action.location.LocationRotateAction"
                text="Rotate Location">
            <add-to-group group-id="fim.location_group" anchor="first"/>
        </action>

        <action id="fim.tp_box" class="fish.crafting.fimplugin.plugin.action.boundingbox.BoundingBoxTeleportAction"
                text="Teleport to BoundingBox">
            <add-to-group group-id="fim.boundingbox_group" anchor="first"/>
        </action>

        <action id="fim.move_box" class="fish.crafting.fimplugin.plugin.action.boundingbox.BoundingBoxMoveAction"
                text="Move BoundingBox">
            <add-to-group group-id="fim.boundingbox_group" anchor="first"/>
        </action>

        <action id="fim.scale_box" class="fish.crafting.fimplugin.plugin.action.boundingbox.BoundingBoxScaleAction"
                text="Scale BoundingBox">
            <add-to-group group-id="fim.boundingbox_group" anchor="first"/>
        </action>

        <action id="fim.toggle_text_format_method"
                class="fish.crafting.fimplugin.plugin.minimessage.ToggleMethodFormatAction"
                text="Format MC Text for This Method"
                description="Toggle rendering of Minecraft formatted strings in this method"
                popup="true">
            <add-to-group group-id="EditorPopupMenu" anchor="first"/>
        </action>

        <action id="fim.toggle_text_format_class"
                class="fish.crafting.fimplugin.plugin.minimessage.ToggleClassFormatAction"
                text="Format MC Text for This Class"
                description="Toggle rendering of Minecraft formatted strings in methods of this class"
                popup="true">
            <add-to-group group-id="EditorPopupMenu" anchor="first"/>
        </action>

        <action id="fim.remove_minimessage_render"
                                 class="fish.crafting.fimplugin.plugin.action.inlay.RemoveInlayAction"
                                 text="Remove Rendered MC Text"
                                 description="Remove the rendered text"
                                 popup="true">
        <add-to-group group-id="EditorPopupMenu" anchor="first"/>
    </action>
    </actions>
</idea-plugin>